<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
        "http://struts.apache.org/dtds/struts-2.3.dtd">

<struts>
    <package name="default" namespace="/" extends="struts-default">
        <action name="login" class="com.shooting_stars.project.command.LoginCommand">
            <result name="success" type="redirectAction">
                userPage
            </result>
            <result name="login_failed">
                /index.jsp
            </result>
            <result name="input">
                /index.jsp
            </result>
            <result name="error">
                /jsp/error/error.jsp
            </result>
        </action>
        <action name="logout" class="com.shooting_stars.project.command.LogoutCommand">
            <result name="success">
                /index.jsp
            </result>
        </action>
        <action name="changeLocale" class="com.shooting_stars.project.command.ChangeLocaleCommand">
            <result name="user" type="redirectAction">
                userPage
            </result>
            <result name="guest">
                /jsp/login.jsp
            </result>
        </action>
        <action name="userPage" class="com.shooting_stars.project.command.FormUserPageCommand">
            <result name="user">
                /jsp/profile.jsp
            </result>
            <result name="other_user">
                /jsp/userPage.jsp
            </result>
            <result name="error">
                /jsp/error/error.jsp
            </result>
        </action>

        <action name="registration" class="com.shooting_stars.project.command.PreparingRegistrationCommand">
            <result name="success" type="redirectAction">
                userPage
            </result>
            <result name="step1">
                /jsp/registration1.jsp
            </result>
            <result name="step2">
                /jsp/registration2.jsp
            </result>
            <result name="step3">
                /jsp/registration3.jsp
            </result>
            <result name="error">
                /jsp/error/error.jsp
            </result>
        </action>
        <action name="changePhoto" class="com.shooting_stars.project.command.ChangePhotoCommand">
            <result name="success" type="redirectAction">
                userPage
            </result>
            <result name="error">
                /jsp/error/error.jsp
            </result>
        </action>

        <action name="saveWishes" class="com.shooting_stars.project.command.SaveWishesCommand">
            <result name="success" type="redirectAction">
                userPage
            </result>
            <result name="error">
                /jsp/error/error.jsp
            </result>
        </action>
        <action name="deleteWish" class="com.shooting_stars.project.command.DeleteWishCommand">
            <result name="success" type="redirectAction">
                userPage
            </result>
            <result name="error">
                /jsp/error/error.jsp
            </result>
        </action>
        <action name="acceptApplication" class="com.shooting_stars.project.command.AcceptApplicationCommand">
            <result name="success" type="redirectAction">
                userPage
            </result>
            <result name="error">
                /jsp/error/error.jsp
            </result>
        </action>
        <action name="cancelMakingWish" class="com.shooting_stars.project.command.CancelMakingWishCommand">
            <result name="success" type="redirectAction">
                userPage
            </result>
            <result name="error">
                /jsp/error/error.jsp
            </result>
        </action>
        <action name="cancelApplication" class="com.shooting_stars.project.command.CancelApplicationCommand">
            <result name="success" type="redirectAction" >
                userPage?userId=${userId}
            </result>
            <result name="error">
                /jsp/error/error.jsp
            </result>
        </action>
        <action name="makeApplication" class="com.shooting_stars.project.command.MakeApplicationCommand">
            <result name="success" type="redirectAction" >
                userPage?userId=${userId}
            </result>
            <result name="error">
                /jsp/error/error.jsp
            </result>
        </action>
        <action name="wishMade" class="com.shooting_stars.project.command.MarkWishMadeCommand">
            <result name="success" type="redirectAction" >
                userPage
            </result>
            <result name="error">
                /jsp/error/error.jsp
            </result>
        </action>
    </package>
</struts>